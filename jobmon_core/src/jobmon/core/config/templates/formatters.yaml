# Shared formatter templates for Jobmon logging
# These formatters can be referenced using !template formatters

formatters:
  # Standard console formatter for basic logging
  console_default:
    format: "%(levelname)s [%(name)s] %(message)s"

  # OTLP formatter with tracing context (requires opentelemetry packages)
  otlp_default:
    '()': jobmon.core.otlp.JobmonOTLPFormatter
    format: "%(asctime)s [%(levelname)s] [trace_id=%(trace_id)s, span_id=%(span_id)s, parent_span_id=%(parent_span_id)s] %(name)s: %(message)s"

  # Structlog formatter for human-readable console output (try direct class reference)
  structlog_text:
    '()': structlog.stdlib.ProcessorFormatter
    processor: 
      '()': structlog.dev.ConsoleRenderer
    keep_exc_info: true
    keep_stack_info: true

  # Structlog formatter for JSON output (try direct class reference)
  structlog_json:
    '()': structlog.stdlib.ProcessorFormatter  
    processor:
      '()': structlog.processors.JSONRenderer
    foreign_pre_chain: []

  # Fallback simple formatters (in case structlog issues persist)
  simple_text:
    format: "%(asctime)s [%(levelname)s] %(name)s: %(message)s"
    
  simple_json:
    format: '{"timestamp": "%(asctime)s", "level": "%(levelname)s", "logger": "%(name)s", "message": "%(message)s"}' 
# Server-specific logconfig for jobmon (OTLP disabled)
# This uses shared templates from core and provides structlog console logging

version: 1
disable_existing_loggers: false

# Import shared formatters and handlers from core templates
formatters: !template formatters

# Server handlers (simple handlers inline, complex ones templated)  
handlers:
  # Simple console handlers (inlined - no templates needed)
  console_default:
    class: logging.StreamHandler
    level: INFO
    formatter: console_default
    
  console_structlog:
    class: logging.StreamHandler
    level: INFO
    formatter: structlog_text

# Server logger configurations (console only by default)
loggers:
  # Server web module
  jobmon.server.web:
    handlers: [console_structlog] 
    level: INFO
    propagate: true

  # Standard server library loggers using shared console pattern
  sqlalchemy:
    handlers: [console_default]
    level: WARN
    propagate: false

  uvicorn.access:
    handlers: [console_default]
    level: INFO
    propagate: false

  uvicorn.error:
    handlers: [console_default]
    level: INFO
    propagate: false

# Root logger fallback (console only)
root:
  handlers: [console_default]
  level: WARNING 
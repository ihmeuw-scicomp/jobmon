# Server-specific logconfig for jobmon (OTLP disabled)
# This uses shared templates from core and provides structlog console logging

version: 1
disable_existing_loggers: false

# Import shared formatters and handlers from core templates
formatters: !template formatters

# Server handlers using shared templates
handlers:
  # Use shared console handler patterns
  console_default: !template handlers.console_template
  console_structlog: !template handlers.console_structlog_template
  console_json: !template handlers.console_json_template

# Server logger configurations (console only by default)
loggers:
  # Server jobmon logging with structlog (console only by default)
  jobmon:
    handlers: [console_structlog]
    level: INFO
    propagate: false

  # Server web module
  jobmon.server.web:
    handlers: [console_structlog] 
    level: INFO
    propagate: false

  # Standard server library loggers using shared console pattern
  sqlalchemy:
    handlers: [console_default]
    level: WARN
    propagate: false

  uvicorn.access:
    handlers: [console_default]
    level: INFO
    propagate: false

  uvicorn.error:
    handlers: [console_default]
    level: INFO
    propagate: false

# Root logger fallback (console only)
root:
  handlers: [console_default]
  level: WARNING 